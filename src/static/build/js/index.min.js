"use strict";var emailCreate=!1,emailLogin=!1;function validationInput(e,t){var n=document.getElementById(e).value,s=document.getElementById(e);emailLogin=emailCreate=n.length>=Number(t)?(s.classList.remove("border-light"),s.classList.remove("border-danger"),s.classList.add("border-success"),s.style.background="url('../static/build/img/input-text-right.png') 95% 50% no-repeat",!0):(""==n.length?s.classList.add("border-light"):(s.classList.remove("border-light"),s.style.background="none",s.classList.add("border-danger")),!1)}function validationEmail(e,t){var n=document.getElementById(e).value,s=document.getElementById(e),o=n.substring(0,n.indexOf("@")),a=n.substring(n.indexOf("@")+1,n.length);3<o.length&&-1===o.search(" ")&&5<a.length&&-1===a.search(" ")&&-1!=a.indexOf(".")?(s.classList.remove("border-light"),s.classList.remove("border-danger"),s.classList.add("border-success"),s.style.background="url('../static/build/img/input-text-right.png') 95% 50% no-repeat",emailLogin=emailCreate=!0,verificationButton(t)):0==n.length||""===n.value?(emailLogin=emailCreate=!1,s.classList.add("border-light"),disableButton(t)):(disableButton(t),emailLogin=emailCreate=!1,s.style.background="none",s.classList.remove("border-light"),s.classList.add("border-danger"))}var disableButton=function(e){var t=document.querySelector(e);t&&(t.setAttribute("disabled","disabled"),t.classList.remove("btn-outline-light"),t.classList.add("btn-outline-secondary"))},enableButton=function(e){var t=document.querySelector(e);t.removeAttribute("disabled"),t.classList.add("btn-outline-light")};function clearTime(e){clearInterval(e)}var verification=void 0,verificationButton=function(e){verification=setInterval(function(){return(null!=document.getElementById("entName")&&3<=document.getElementById("entName").value.length&&6<=document.getElementById("entPass").value.length&&!0===emailCreate||!0===emailLogin&&null!=document.getElementById("pass")&&6<=document.getElementById("pass").value.length?enableButton:disableButton)(e)},100)},LoginUser=function(){document.getElementById("formLogin").addEventListener("submit",function(e){e.preventDefault()});var e=document.getElementById("user").value,t=document.getElementById("pass").value,n=document.querySelector(".divErro"),s=document.querySelector(".textDivErro"),o=document.getElementById("imgLoadingLogin");s.classList.add("d-none"),n.classList.remove("d-none"),o.classList.remove("d-none"),axios.post("/",{loginUser:e,passUser:t}).then(function(t){setTimeout(function(){"valid data"===t.data.message&&200===t.data.code&&(sessionStorage.setItem("token",t.data.token),axios.get("/dashboard",{headers:{authorization:sessionStorage.getItem("token")}}).then(function(e){clearTime(verification),o.classList.add("d-none"),document.title="Dashboard",document.querySelectorAll("link")[2].href="../../static/build/css/dashboard.min.css",document.querySelector("body").innerHTML=e.data,refreshJsDashboard("https://unpkg.com/axios/dist/axios.min.js"),refreshJsDashboard("../../static/build/js/dashboard.min.js"),refreshJsDashboard("../../static/build/js/pace.min.js");var t=document.querySelector(".animation");setTimeout(function(){t.classList.remove("d-flex"),t.classList.add("d-none"),document.querySelector(".containner-fluid").classList.remove("d-none")},4e3)}).catch(function(e){o.classList.add("d-none"),s.innerHTML=t.data.message,s.classList.remove("d-none")})),401===t.data.code&&(o.classList.add("d-none"),s.innerHTML=t.data.message,s.classList.remove("d-none"))},2e3)}).catch(function(e){s.innerHTML=res.data.message,s.classList.remove("d-none")})};function hideLoading(e){var t=document.querySelector(".bodyModal"),n=document.getElementById("textModal"),s=document.getElementById("modal-footer");setTimeout(function(){t.style.display="none",n.innerHTML=e,n.style.display="block",s.style.display="block"},1100)}var btnletsIndex=document.getElementById("letsIndex"),btnCloseModal=document.getElementById("btnCloseModal");function returnLogin(){btnletsIndex.style.display="block",btnletsIndex.addEventListener("click",function(){document.getElementById("cont").style.display="block",document.getElementById("containerForm").style.display="none"})}function closeModal(){btnCloseModal.style.display="block",btnCloseModal.addEventListener("click",function(){document.getElementById("modalRegister").style.display="none"})}function clearInput(e){var t=document.getElementById(e);t.value="",t.style.background="none",t.classList.add("border-light")}function createUser(){document.getElementById("for").addEventListener("submit",function(e){e.preventDefault()}),document.getElementById("letsIndex").style.display="none",document.getElementById("btnCloseModal").style.display="none",document.getElementById("modal-footer").style.display="none",document.getElementById("textModal").style.display="none",document.querySelector(".bodyModal").style.display="block";var e=document.getElementById("entName").value,t=document.getElementById("entPass").value,n=document.getElementById("entEmail").value;axios.post("/register",{userName:e,userPassword:t,userEmail:n}).then(function(e){200===e.status&&"User created"===e.data.message?(clearInput("entName"),clearInput("entEmail"),clearInput("entPass"),hideLoading(e.data.message),returnLogin()):("Email already Registered"===e.data.message?hideLoading(e.data.message):hideLoading("Sorry, an error occurred try again"),closeModal())}).catch(function(e){hideLoading("Sorry, an error occurred try again"),closeModal()})}var showFormLogin=function(e){var t=0<arguments.length&&void 0!==e?e:void 0,n=document.querySelector(".logo"),s=document.querySelector(".cont"),o=document.querySelector(".loadingLogin"),a=document.querySelector(t);clearInput("user"),clearInput("pass"),document.querySelector(".divErro").classList.add("d-none"),void 0!==t&&(a.addEventListener("click",function(e){e.preventDefault()}),a.classList.remove("d-block"),a.classList.add("d-none")),n.classList.remove("d-block"),n.classList.add("d-none"),o.classList.remove("d-none"),setTimeout(function(){o.classList.add("d-none"),s.classList.remove("d-none"),n.classList.remove("d-none"),s.classList.add("d-block"),n.classList.add("d-block")},2e3)};function showAnswer(){document.getElementById("btnRegister-js").addEventListener("click",function(e){e.preventDefault()}),clearInput("entName"),clearInput("entPass"),clearInput("entEmail");var e=document.querySelector(".cont"),t=document.querySelector(".loading"),n=document.querySelector(".containerForm"),s=document.querySelector(".logo"),o=document.querySelector(".dImg2");e.classList.remove("d-block"),e.classList.add("d-none"),s.classList.remove("d-block"),s.classList.add("d-none"),t.classList.add("d-block"),o.classList.add("d-block"),setTimeout(function(){t.classList.remove("d-block"),o.classList.remove("d-block"),n.classList.remove("d-none"),s.classList.remove("d-none"),n.classList.add("d-block"),s.classList.add("d-block")},2e3)}function showHide(e){var t=document.getElementById(e);"password"==t.type?t.type="text":t.type="password"}function refreshJsDashboard(e){var t=document.createElement("script");t.src=e,document.querySelector("body").appendChild(t)}